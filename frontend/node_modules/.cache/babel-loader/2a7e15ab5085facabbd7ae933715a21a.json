{"ast":null,"code":"import _classCallCheck from\"/Users/jacksonthounaojam/Downloads/student/Web devop/React/project/twitter-clone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jacksonthounaojam/Downloads/student/Web devop/React/project/twitter-clone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jacksonthounaojam/Downloads/student/Web devop/React/project/twitter-clone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jacksonthounaojam/Downloads/student/Web devop/React/project/twitter-clone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React from\"react\";import{Editor}from\"@tinymce/tinymce-react/lib/cjs/main/ts\";import Axios from\"axios\";import Alert from\"./Alert\";var AddTweet=/*#__PURE__*/function(_React$Component){_inherits(AddTweet,_React$Component);var _super=_createSuper(AddTweet);function AddTweet(){var _this;_classCallCheck(this,AddTweet);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={content:\"<p>I have to edit this!</p>\",titleErr:\"\",contentErr:\"\",formErr:\"\"};_this.handleEditorChange=function(content,editor){_this.setState({content:content});};_this.submitForm=function(e){e.preventDefault();if(_this.state.content.length===0){_this.setState({contentErr:\"Add some data to the content!\"});return;}if(document.getElementById(\"title\").value.length===0){_this.setState({titleErr:\"Add a title!\"});return;}Axios.post(\"/api/addtweet\",{title:document.getElementById(\"title\").value,content:_this.state.content},{headers:{Authorization:\"Bearer \"+localStorage.getItem(\"token\")}}).then(function(res){if(res.data.success){window.location.reload();}else{_this.setState({formErr:res.data.error});}});};return _this;}_createClass(AddTweet,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"w3-modal w3-animate-opacity\",id:\"addTweet\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w3-modal-content w3-card\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"w3-container w3-blue\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w3-button w3-display-topright w3-hover-none w3-hover-text-white\",onClick:function onClick(){document.getElementById(\"addTweet\").style.display=\"none\";},children:\"X\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Add tweet\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"w3-container\",onSubmit:this.submitForm,children:[this.state.formErr.length>0&&/*#__PURE__*/_jsx(Alert,{message:this.state.formErr}),/*#__PURE__*/_jsxs(\"div\",{className:\"w3-section\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",className:\"w3-input w3-border w3-margin-bottom\"}),/*#__PURE__*/_jsx(\"small\",{className:\"w3-text-gray\",children:this.state.titleErr})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(Editor,{initialValue:\"<p>This is the initial content of the editor</p>\",apiKey:\"h4lob04s358sx82cxoploj3qas5qx4szcdgohhxgja5z5bq2\",init:{height:300,menubar:false,statusbar:false,toolbar_mode:\"sliding\",plugins:['advlist autolink lists link image imagetools media emoticons preview anchor','searchreplace visualblocks code fullscreen','insertdatetime media table paste code help wordcount'],toolbar:'undo redo | formatselect | bold italic underline strikethrough | image anchor media | \\\n                                        alignleft aligncenter alignright alignjustify | \\\n                                        outdent indent | bulllist numlist | fullscreen preview | emoticons help',contextmenu:\"bold italic underline indent outdent help\"},onEditorChange:this.handleEditorChange}),/*#__PURE__*/_jsx(\"small\",{className:\"w3-text-gray\",children:this.state.contentErr})]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w3-button w3-blue\",children:\"Post\"})})]})]})]})});}}]);return AddTweet;}(React.Component);export default AddTweet;","map":{"version":3,"sources":["/Users/jacksonthounaojam/Downloads/student/Web devop/React/project/twitter-clone/frontend/src/components/AddTweet.jsx"],"names":["React","Editor","Axios","Alert","AddTweet","state","content","titleErr","contentErr","formErr","handleEditorChange","editor","setState","submitForm","e","preventDefault","length","document","getElementById","value","post","title","headers","Authorization","localStorage","getItem","then","res","data","success","window","location","reload","error","style","display","height","menubar","statusbar","toolbar_mode","plugins","toolbar","contextmenu","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {Editor} from \"@tinymce/tinymce-react/lib/cjs/main/ts\";\nimport Axios from \"axios\";\nimport Alert from \"./Alert\";\n\nclass AddTweet extends React.Component {\n    state = {content: \"<p>I have to edit this!</p>\", titleErr: \"\", contentErr: \"\", formErr: \"\"}\n\n    handleEditorChange = (content, editor) => {\n        this.setState({content})\n    }\n\n    submitForm = (e) => {\n        e.preventDefault()\n        if (this.state.content.length === 0) {\n            this.setState(\n                {contentErr: \"Add some data to the content!\"}\n            )\n            return;\n        }\n        if (document.getElementById(\"title\").value.length === 0) {\n            this.setState(\n                {titleErr: \"Add a title!\"}\n            )\n            return;\n        }\n        Axios.post(\"/api/addtweet\", {\n            title: document.getElementById(\"title\").value,\n            content: this.state.content\n        }, {\n            headers: {\n                Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n            }\n        }).then(res => {\n            if (res.data.success) {\n                window.location.reload()\n            } else {\n                this.setState(\n                        {formErr: res.data.error }\n                    )\n            }\n        })\n    }\n\n    render() {\n        return (<div className=\"w3-modal w3-animate-opacity\" id=\"addTweet\">\n            <div className=\"w3-modal-content w3-card\">\n                <header className=\"w3-container w3-blue\">\n                <span className=\"w3-button w3-display-topright w3-hover-none w3-hover-text-white\" onClick={() => {\n                    document.getElementById(\"addTweet\").style.display = \"none\"\n                }}>X</span>\n                    <h2>Add tweet</h2>\n                </header>\n                <form className=\"w3-container\" onSubmit={this.submitForm}>\n                    {this.state.formErr.length > 0 && <Alert message={this.state.formErr}/>}\n                    <div className=\"w3-section\">\n                        <p>\n                            <label htmlFor=\"title\">Title</label>\n                            <input type=\"text\" id=\"title\" className=\"w3-input w3-border w3-margin-bottom\"/>\n                            <small className=\"w3-text-gray\">{this.state.titleErr}</small>\n                        </p>\n                        <p>\n                            <Editor\n                                initialValue=\"<p>This is the initial content of the editor</p>\"\n                                apiKey = \"h4lob04s358sx82cxoploj3qas5qx4szcdgohhxgja5z5bq2\"\n                                init={{\n                                    height: 300,\n                                    menubar: false,\n                                    statusbar: false,\n                                    toolbar_mode: \"sliding\",\n                                    plugins: [\n                                        'advlist autolink lists link image imagetools media emoticons preview anchor',\n                                        'searchreplace visualblocks code fullscreen',\n                                        'insertdatetime media table paste code help wordcount'\n                                    ],\n                                    toolbar:\n                                        'undo redo | formatselect | bold italic underline strikethrough | image anchor media | \\\n                                        alignleft aligncenter alignright alignjustify | \\\n                                        outdent indent | bulllist numlist | fullscreen preview | emoticons help',\n                                    contextmenu: \"bold italic underline indent outdent help\"\n                                }}\n                                onEditorChange={this.handleEditorChange}\n                            />\n                            <small className=\"w3-text-gray\">{this.state.contentErr}</small>\n                        </p>\n\n                        <p>\n                            <button type=\"submit\" className=\"w3-button w3-blue\">Post</button>\n                        </p>\n                    </div>\n                </form>\n            </div>\n        </div>)\n    }\n}\n\nexport default AddTweet\n"]},"metadata":{},"sourceType":"module"}