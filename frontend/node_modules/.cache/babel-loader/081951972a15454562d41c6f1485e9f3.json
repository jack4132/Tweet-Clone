{"ast":null,"code":"import _classCallCheck from\"/Users/jacksonthounaojam/Downloads/student/Web devop/React/project/twitter-clone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jacksonthounaojam/Downloads/student/Web devop/React/project/twitter-clone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jacksonthounaojam/Downloads/student/Web devop/React/project/twitter-clone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jacksonthounaojam/Downloads/student/Web devop/React/project/twitter-clone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from\"react\";import TweetItem from\"./TweetItem\";import Axios from\"axios\";import AddTweet from\"./AddTweet\";var MainPage=/*#__PURE__*/function(_React$Component){_inherits(MainPage,_React$Component);var _super=_createSuper(MainPage);function MainPage(){var _this;_classCallCheck(this,MainPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={tweets:[],currentUser:{username:\"\"}};return _this;}_createClass(MainPage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;Axios.get(\"/api/tweets\").then(function(res){_this2.setState({tweets:res.data.reverse()});});setTimeout(function(){Axios.get(\"/api/getcurrentuser\",{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}}).then(function(res){_this2.setState({currentUser:res.data});});},200);}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w3-container w3-jumbo\",style:{margin:\"3rem\",paddingLeft:\"1rem\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Tweets\"}),/*#__PURE__*/_jsx(\"button\",{className:\"w3-button w3-blue w3-large\",onClick:function onClick(){document.getElementById(\"addTweet\").style.display=\"block\";},children:\"Add tweet\"})]}),/*#__PURE__*/_jsx(AddTweet,{}),/*#__PURE__*/_jsx(\"div\",{className:\"w3-container\",children:this.state.tweets.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"w3-xlarge w3-opacity\",style:{marginLeft:\"2rem\"},children:\"No tweets! Create one\"}):this.state.tweets.map(function(item,index){return/*#__PURE__*/_jsx(TweetItem,{id:item.id,title:item.title,content:item.content,author:item.user.username,isOwner:_this3.state.currentUser.username===item.user.username},index);})})]});}}]);return MainPage;}(React.Component);export default MainPage;","map":{"version":3,"sources":["/Users/jacksonthounaojam/Downloads/student/Web devop/React/project/twitter-clone/frontend/src/components/MainPage.jsx"],"names":["React","TweetItem","Axios","AddTweet","MainPage","state","tweets","currentUser","username","get","then","res","setState","data","reverse","setTimeout","headers","Authorization","localStorage","getItem","margin","paddingLeft","document","getElementById","style","display","length","marginLeft","map","item","index","id","title","content","user","Component"],"mappings":"w4BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,C,GAEMC,CAAAA,Q,+UACFC,K,CAAQ,CAACC,MAAM,CAAE,EAAT,CAAaC,WAAW,CAAE,CAACC,QAAQ,CAAE,EAAX,CAA1B,C,iGAEY,iBAChBN,KAAK,CAACO,GAAN,CAAU,aAAV,EAAyBC,IAAzB,CAA8B,SAAAC,GAAG,CAAI,CACjC,MAAI,CAACC,QAAL,CAAc,CAACN,MAAM,CAAEK,GAAG,CAACE,IAAJ,CAASC,OAAT,EAAT,CAAd,EACH,CAFD,EAGAC,UAAU,CAAC,UAAM,CACbb,KAAK,CAACO,GAAN,CAAU,qBAAV,CAAiC,CAC7BO,OAAO,CAAE,CACLC,aAAa,kBAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ,CADR,CADoB,CAAjC,EAIGT,IAJH,CAIQ,SAAAC,GAAG,CAAI,CACX,MAAI,CAACC,QAAL,CAAc,CAACL,WAAW,CAAEI,GAAG,CAACE,IAAlB,CAAd,EACH,CAND,EAOH,CARS,CAQP,GARO,CAAV,CASH,C,uCAEQ,iBACL,mBACI,MAAC,KAAD,CAAO,QAAP,yBACI,aACI,SAAS,CAAC,uBADd,CAEI,KAAK,CAAE,CAACO,MAAM,CAAE,MAAT,CAAiBC,WAAW,CAAE,MAA9B,CAFX,wBAGI,8BAHJ,cAII,eAAQ,SAAS,CAAC,4BAAlB,CAA+C,OAAO,CAAE,kBAAM,CAC1DC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAApC,CAA0CC,OAA1C,CAAoD,OAApD,CACH,CAFD,uBAJJ,GADJ,cAUI,KAAC,QAAD,IAVJ,cAWI,YAAK,SAAS,CAAC,cAAf,UACK,KAAKpB,KAAL,CAAWC,MAAX,CAAkBoB,MAAlB,GAA6B,CAA7B,cACG,UAAG,SAAS,CAAC,sBAAb,CAAoC,KAAK,CAAE,CAACC,UAAU,CAAE,MAAb,CAA3C,mCADH,CAEiB,KAAKtB,KAAL,CAAWC,MAAX,CAAkBsB,GAAlB,CAAsB,SAACC,IAAD,CAAOC,KAAP,CAAiB,CACjD,mBACI,KAAC,SAAD,EACI,EAAE,CAAED,IAAI,CAACE,EADb,CAEI,KAAK,CAAEF,IAAI,CAACG,KAFhB,CAGI,OAAO,CAAEH,IAAI,CAACI,OAHlB,CAII,MAAM,CAAEJ,IAAI,CAACK,IAAL,CAAU1B,QAJtB,CAKI,OAAO,CAAE,MAAI,CAACH,KAAL,CAAWE,WAAX,CAAuBC,QAAvB,GAAoCqB,IAAI,CAACK,IAAL,CAAU1B,QAL3D,EAMSsB,KANT,CADJ,CAUH,CAXa,CAHtB,EAXJ,GADJ,CA8BH,C,sBAjDkB9B,KAAK,CAACmC,S,EAoD7B,cAAe/B,CAAAA,QAAf","sourcesContent":["import React from \"react\";\nimport TweetItem from \"./TweetItem\";\nimport Axios from \"axios\";\nimport AddTweet from \"./AddTweet\";\n\nclass MainPage extends React.Component {\n    state = {tweets: [], currentUser: {username: \"\"}}\n\n    componentDidMount() {\n        Axios.get(\"/api/tweets\").then(res => {\n            this.setState({tweets: res.data.reverse()})\n        });\n        setTimeout(() => {\n            Axios.get(\"/api/getcurrentuser\", {\n                headers: {\n                    Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n                }\n            }).then(res => {\n                this.setState({currentUser: res.data})\n            })\n        }, 200)\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                <div\n                    className=\"w3-container w3-jumbo\"\n                    style={{margin: \"3rem\", paddingLeft: \"1rem\"}}>\n                    <h1>Tweets</h1>\n                    <button className=\"w3-button w3-blue w3-large\" onClick={() => {\n                        document.getElementById(\"addTweet\").style.display = \"block\"\n                    }}>Add tweet\n                    </button>\n                </div>\n                <AddTweet/>\n                <div className=\"w3-container\">\n                    {this.state.tweets.length === 0 ?\n                        <p className=\"w3-xlarge w3-opacity\" style={{marginLeft: \"2rem\"}}>No tweets! Create\n                            one</p> : this.state.tweets.map((item, index) => {\n                            return (\n                                <TweetItem\n                                    id={item.id}\n                                    title={item.title}\n                                    content={item.content}\n                                    author={item.user.username}\n                                    isOwner={this.state.currentUser.username === item.user.username}\n                                    key={index}\n                                />\n                            );\n                        })}\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default MainPage;"]},"metadata":{},"sourceType":"module"}